rm -rf $HOME/.adobe

export EDITOR=vim
export PAGER="less -R"
if [ -f /proc/cpuinfo ]; then
	export NUMCPUCORES="$(nproc)"
fi
if [ -d /home/stefan.devenv/build ]; then
	export BUILD_ROOT=/home/stefan.devenv/build
elif [ -d /home/tmp/build ]; then
	export BUILD_ROOT=/home/tmp/build
elif [ -e "$HOME/tmp/build" ]; then
	export BUILD_ROOT="$(readlink -f "$HOME/tmp/build")" # the equivalent to $HOME, for build directories
else
	export BUILD_ROOT=""
fi

if [ -z "$LOCALPROFILEREAD" ]; then
	# add home directory path
	export PATH="$HOME/bin:$PATH"

	# KDE installation
	export KDEDIRS="/usr/local/:$KDEDIRS"
	export LD_LIBRARY_PATH="/usr/local/lib/:$LD_LIBRARY_PATH"

	# uninstalled manpages
	if [ -d $HOME/.man ]; then
		export MANPATH=$HOME/.man:$MANPATH
	fi

	if [ -d $HOME/perl5 ]; then
		eval $(perl -I ~/perl5/lib/perl5/ -Mlocal::lib)
	fi
	if [ -d $HOME/.rbenv ]; then
		export PATH="$HOME/.rbenv/bin:$PATH"
	fi
fi

# aliases
alias less='less -R'            # recognise color characters
alias m=mpc
alias mi='mpc idle player; mpc'
which ncmpc &>/dev/null || alias ncmpc=ncmpcpp
if [ "$(uname)" = "Linux" ]; then
	alias ls='ls --color=auto'
fi
if [ -f /usr/bin/steam ]; then
	alias steam="nice -n10 /usr/bin/steam"
fi
if grep ID=arch /etc/os-release &>/dev/null; then
	alias p='sudo pacman'
fi
alias rpe="perl -MData::Dump=pp -Mstrict -Mwarnings -le"
if which pwget &>/dev/null; then
	pwcopy() {
		pwget "$@" | xsel -bi
	}
fi
if which units &>/dev/null; then
	alias units="units --verbose"
fi

# for Go
if [ -d "$HOME/Code/gopath" ]; then
	export GOPATH="$HOME/Code/gopath"
	export GOBIN="$GOPATH/bin"
	export PATH="$PATH:$GOBIN"
fi

# for OpenStack
if [ -f "$HOME/.local/bin/openstack" ]; then
	cloud_is() {
		eval "$($HOME/.devenv/env_for_cloud.rb $1)"
		env | grep '^OS_' | sed '/^OS_PASSWORD=/s/=.*/=<hidden>/' | sort
		if [ -z "$OS_PASSWORD" ]; then
			echo -n "OS_PASSWORD="
			read -s OS_PASSWORD && export OS_PASSWORD
			if [ -n "$OS_PASSWORD" ]; then
				echo "<hidden>"
			else
				echo "<not set>"
			fi
		fi
	}
fi

# for Ruby
if [ -d $HOME/.rbenv ]; then
	eval "$(rbenv init -)"
fi
if hash foreman &>/dev/null; then
	foreman() {
		[ -f .procfile ] && env foreman "$@" -f .procfile || env foreman "$@"
	}
fi

# 256 color support in Konsole
if [ "$TERM" = "xterm" ]; then
	export TERM=xterm-256color
fi

# this must always be at the end
export LOCALPROFILEREAD="yes"
