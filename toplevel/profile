test -f /etc/SuSE-release -a -z "$PROFILEREAD" && . /etc/profile || true

rm -rf $HOME/.adobe
[ -d "$HOME/.adobe_orig" ] && cp -R $HOME/.adobe_orig $HOME/.adobe
rm -rf $HOME/.macromedia
[ -d "$HOME/Downloads" ] && rmdir "$HOME/Downloads"

export EDITOR=vim
export PAGER="less -R"
export NUMCPUCORES="$(grep '^core id' /proc/cpuinfo | sort -g | uniq | wc -l)"
if [ -d /home/tmp/build ]; then
	export BUILD_ROOT=/home/tmp/build
else
	export BUILD_ROOT="$(readlink -f "$HOME/tmp/build")" # the equivalent to $HOME, for build directories
fi

if [ -z "$LOCALPROFILEREAD" ]; then
	if [ -e /etc/SuSE-release ]; then
		export PATH="$PATH:/sbin:/usr/sbin:/usr/local/sbin"
	fi
	if grep ID=arch /etc/os-release &> /dev/null; then
		export PATH="$PATH:/usr/bin/vendor_perl"
	fi
	# add home directory path
	export PATH="$PATH:$HOME/bin"
	[ -d /usr/bin/vendor_perl ] && export PATH="$PATH:/usr/bin/vendor_perl"

	# Python includes
	export PYTHONPATH="$PYTHONPATH:$HOME/Code/python/path"

	# KDE installation
	export KDEDIRS="/usr/local/:$KDEDIRS"
	export LD_LIBRARY_PATH="/usr/local/lib/:$LD_LIBRARY_PATH"

	# uninstalled manpages
	if [ -d $HOME/.man ]; then
		export MANPATH=$HOME/.man:$MANPATH
	fi

	if [ -d $HOME/perl5 ]; then
		export PERL_LOCAL_LIB_ROOT="$HOME/perl5"
		export PERL_MB_OPT="--install_base $HOME/perl5"
		export PERL_MM_OPT="INSTALL_BASE=$HOME/perl5"
		export PERL5LIB="$HOME/perl5/lib/perl5/i686-linux-thread-multi:$HOME/perl5/lib/perl5"
		export PATH="$HOME/perl5/bin:$PATH"
	fi
fi

# some measures (apart from .inputrc's set bell-style none and modprobe's blacklist pcspkr) to disable the system speaker
[ x"$DISPLAY" != x ] && xset b 0
[ x"$TERM" != x ] && env TERM=$TERM setterm -blength 0

# aliases
alias ack='ack --group --color' # always adjust for screen display, even if writing to pipe
alias less='less -R'            # recognise color characters
alias m=mpc
alias halt='sudo halt'
which ncmpc &>/dev/null || alias ncmpc=ncmpcpp
if [ -e /etc/SuSE-release ];then
	alias z='sudo zypper'
fi

# 256 color support in Konsole
if [ "$TERM" = "xterm" ]; then
	export TERM=xterm-256color
fi


# this must always be at the end
export LOCALPROFILEREAD="yes"
